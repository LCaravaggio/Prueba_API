from bs4 import BeautifulSoup
from flask_cors import cross_origin, CORS
from flask import Flask, render_template, request, send_file, Response

import pandas as pd
import requests
from urllib.request import urlopen, Request
import datetime 

app = Flask(__name__)
CORS(app)

@app.route("/")
@cross_origin()
def welcome():
    return (
        f"Bienvenido a la API!<br/>")
 

@app.route("/vea/search/<query>")
def search_queryA(query=None):
    b=""
    l="https://www.vea.com.ar/"+query+"/p"
    try:
        b+=scrapvea(l)
        return (b)
    except Exception as e:
        return ("no se pudo acceder")


@app.route("/coto/search/<querycoto>")
def search_queryB(querycoto=None):
    b=""


    lista1=[
    "-galldulces-acaramelada-vocacion-paq-150-grm",
    "-galldulces-chocolat-lincoln-paq-153-grm",
    "-galletitas-dulces-lincoln-clasica-paq-153-grm",
    "-cuadril--seleccion-x-kg",
    "-hamburguesa-coto-cja-4-uni",
    "-hamburguesa--swift-cja-4-uni",
    "-hamburguesa-clasica-paty-cja-320-grm",
    "-salchicha-paladini-paq-6-uni-225-grm",
    "-salchicha-escudo-de-oro-sin-piel-paq-6-uni-190-grm",
    "-salchicha-granja-iris-paq-6-uni-225-grm",
    "-salchicha--patyviena-x-6-225-grm",
    "-jamon-cocido-feteado-primera-marc-xkg",
    "-salchichon-c-jamon-feteado-ebro-xkg",
    "-salchichon-primavera-feteado-ebro-xkg",
    "-salchichon-c-jam-feteado-la-octava-xkg-1-kgm",
    "-salchichon-primav-fetead-la-octava-xkg-1-kgm",
    "-salame-crespon-feteado-ebro-x-kg",
    "-aceite-girasol--natura---botella-15-l",
    "-aceite-girasol--canuelas--botella-15-l",
    "-leche-ultra-entera-extcal-vit-a--la-serenisi-sch-1-ltr",
    "-pategras-fraccionado-milkaut-xkg",
    "-pategras-horma-la-serenisi--1-kgm",
    "-pategras-holandit-veronica-xkg",
    "-sardo--xkg",
    "-sardo-vit-a-d-fraccionado-la-serenisi--1-kgm",
    "-sardo--veronica-xkg",
    "-yogentfirmfort-frutilla-yogurisimo-pot-190-grm",
    "-yogentfirm-multi-vainilla-sancor-yogs-pot-190-grm",
    "-dulce-leche-clasico-sancor-pot-400-grm",
    "-dulce-leche--coto-pot-400-grm",
    "-dulce-leche-fuente-d-calci-la-serenisi-pot-400-grm",
    "-dulce-leche-familiar-milkaut-pot-400-grm",
    "-huevo-blanco--coto-bli-12-uni",
    "-huevo-blanco-grand----cja-12-uni",
    "-huevo-color----cja-12-uni",
    "-arveja--la-campagnola-remojadas-lata-300-gr",
    "-sal-fina-nobleza-gaucha-----paquete-500-gr",
    "-sal-fina-dos-anclas-----caja-500-gr",
    "-sal-fina-celusal-----caja-500-gr",
    "-flan-ciudad-del-lago-vainilla---caja-65-gr",
    "-flan-royal-vainilla---sobre-60-gr",
    "-flan-exquisita-vainilla---caja-60-gr",
    "-gaseosa-coca-cola-light---botella-15-l-",
    "-gaseosa-pepsi-light---botella-15-l-",
    "-agua-mineral--eco-de-los-andes---botella-15-l",
    "-agua-mineral--villavicencio----botella-15-l",
    "-agua-mineral--glaciar---botella-15-l",
    "-agua-mineral--nestle---botella-15-l",
    "-cerveza--brahma---botella-1-l",
    "-cerveza--quilmes---botella-1-l",
    "-cerveza-lager-schneider---botella-1-l",
    "-cerveza--palermo--botella-1-l",
    "-zumuva---blanco-1-l",
    "-termidor-tradicion---tinto-1-l",
    "-toro---tinto-dulce-1-l",
    "-cafe-molido-la-virginia---paquete-500-gr",
    "-cafe-molido-los-5-hispanos---paquete-500-gr",
    "-cafe-molido-cabrales---paquete-500-gr",
    "-jabon-en-polvo-ala--lavado-a-mano--paquete-800-gr",
    "-jabon-en-polvo-zorro---paquete-800-gr",
    "-detergente-zorro--pepino--botella-750-ml",
    "-detergente-ala--limon---botella-750-ml",
    "-lavandina-liquida-ayudin----maxima-pureza-botella-1-l",
    "-shampoo-sedal---ceramidas-botella-650-ml",
    "-shampoo-tresemme---hidratacion-profunda-botella-400-ml",
    "-shampoo-johnson-s-baby-proteccion-uv-bot-400-ml",
    "-shampoo-sedal---ceramidas-botella-340-ml",
    "-jabon-oliva-y-aloe-v-palmolive-bol-375-grm",
    "-desodorante-antitraspirante-nivea-dry-confort--aerosol-150-cc",
    "-desodorante-antitraspirante-rexona--invisible--aerosol-",
    "-enjuague-para-ropa-vivere-clasico-doypack-900-ml",
    "-enjuague-para-ropa-comfort-clasico-doypack-900-ml",
    "-enjuague-para-ropa-suave-libre-enjuague-doypack-900-ml",
    "-limpiador-cif-antigrasa-doy-900-ml",
    "-limpiador-ayudin-antigrasa-doy-900-cc",
    "-limpiador-mr-musculo-total-cocina-doy-900-cc",
    "-desodorante-de-ambiente-poett-lavanda---aerosol-360-cc",
    "-desodorante-de-ambiente-glade-campo-de-lavanda-aerosol-360-cc",
    "-insecticida-raid-mata-mos-y-mosquit-form-mejorada-aer-360c",
    "-insecticida-mata-mosquito-fuyi-efectividad-comproba-aer-360-g",
    "-rollo-de-cocina-sussex-180-panos-paquete-3-unidades",
    "-rollo-de-cocina-campanita-180-panos-paquete-3-unidades",
    "-rollo-de-cocina-elite-180-panos-paquete-3-unidades",
    "-cocina-aurora-4h-inox-enc-lz-autolm-xle",
    "-cocina-whirlpool-4-hornallas-blanco-wfb56db",
    "-cocina-electrolux-4-hornallas-gris-exmr856",
    "-heladera-con-freezer--314-l-phct320x--inoxidable",
    "-heladera-con-freezer-top-house-314-l-d60350--inoxidable",
    "-termotanque-a-gas-rheem-120-l-tgnp120rh-natural",
    "-termotanque-a-gas-saiar-120-l-tpg120-multigas",
    "-aire-acondicionado-split-top-house-3000-fg-3450-watts-frio-calor--",
    "-aire-acondicionado-split-bgh-silent-air-3000-fg-3450-watts-frio-calor-bsh35wcp",
    "-lavarropas-automatico-top-house-carga-frontal-7-kg-xqg70-q712e-blanco",
    "-lavarropas-automatico-samsung-carga-frontal-7-kg-ww70j4463gw-blanco",
    "-leche-descremada-la-serenisima-1-sachet-1-l",
    "-leche-entera-la-serenisima-3-sachet-1-l",
    "-leche-larga-vida-descremada-tregar-ttb-1-l",
    "-leche-larga-vida-descremada-milkaut-ttb-1-l",
    "-leche-larga-vida-descremada-ilolay-ttb-1-l",
    "-leche-larga-vida-descremada-veronica-ttb-1-l",
    "-leche-larga-vida-descremada-sancor-ttb-1-l",
    "-leche-larga-vida-entera-ilolay-ttb-1-l",
    "-leche-entera-clasica-la-serenisima-larga-vida-1l",
    "-leche-larga-vida-entera-milkaut-ttb-1-l",
    "-leche-larga-vida-entera-sancor-ttb-1l",
    "-leche-larga-vida-entera-tregar-ttb-1-l",
    "-leche-parcialmente-descremada-liviana--la-serenisima-larga-vida-1l",
    "-leche-larga-vida-entera-veronica-ttb-1-l",
    "-leche-larga-vida-descremada-apostoles-ttb-1-l",
    "-leche-larga-vida-entera-apostoles-ttb-1-l",
    "-leche-en-polvo-descremada-la-serenisima-400-gr",
    "-leche-en-polvo-entera-purisima-bolsa-400-gr",
    "-leche-en-polvo-svelty-figura-x-600gr",
    "-leche-e-polvo-entera-ilolay-pou-400-grm",
    "-tomate-perita-coto-pelado-lata-400-gr",
    "-papel-higienico-elite-simple-hoja-paquete-4-unidades",
    "-papel-higienico-elite-caricias-de-seda-doble-hoja-paquete-4-unidades",
    "-papel-higienico-elite-caricias-de-seda-doble-hoja-paquete-4-unidades",
    "-papel-higienico-higienol-max-simple-hoja-paquete-4-unidades",
    "-phigienico-d-h-x-4-rollos-felpita-paq-8-m2",
    "-papel-higienico-sweety-extra-blanco-doble-hoja-paquete-4-unidades",
    "-papel-higienico-campanita-doble-hoja-paquete-4-unidades",
    "-manzana-red----xkg",
    "-banana-cavendish---xkg",
    "-pera-packams-x-kg",
    "-uva-blanca-brasilena---xkg",
    "-naranja-jugo---xkg",
    "-limon-comercia---xkg",
    "-mandarina-murcot---xkg",
    "-pomelo-rosado----xkg",
    "-cebolla-x-kg",
    "-papa-blanca-de-campo-x-kg",
    "-tomate-red-x-kg",
    "-zanahoria-seleccion---xkg",
    "-zapallo-anco-x-kg",
    "-pimiento-rojo---xkg",
    "-acelga-x-uni",
    "-lechuga-criolla-x-kg",
    "-remolacha-x-kg",
    "-gallsandwic--granix-pak-600-grm",
    "-galletitas-crackers-traviata-paq-101-grm",
    "-gallsin-sal--granix-pak-555-grm",
    "-arveja-seca-rem-arcor-lat-300-grm",
    "-jabon-en-polvo-granby-matic-lavado-total-3-kg",
    "-jabon-en-pan-ala-paquete-200-gr-2-unidades",
    "-jabon-en-pan-zorro-realza-tus-blancos-paquete-150-gr-2-unidades",
    "-detergpolvo-baj-esp-querubin-bsa-800-grm",
    "-agua-lavandina-adi-bosque-querubin-bot-1-ltr",
    "-lavandina-liquida-ayudin-original-botella-2-l",
    "-lavandina-concent-querubin-bid-4-ltr",
    "-toallas-femeninas-always-proteccion-plus-----paquete-16-unidades",
    "-toallas-femeninas-siempre-libre-especial-con-alas-paquete-16-unidades",
    "-toalla-femenina-ladysoft-ultradelgada-t-us-c-a-paq-16un",
    "-toalla-femenina-kotex-normal-x16",
    "-azucar-ledesma-comun-tipo-a-paquete-1-kg",
    "-azucar--arcor-paq-1-kgm",
    "-edulcorante-hileret-clasico-caja-sobres-x-100",
    "-edulcorante-hileret-stevia-caja-sobres-x-100",
    "-edulcorante-equalsweet-clasico-caja-sobres-x-100",
    "-mayonesa-hellmann's-clasica-475-gr",
    "-mayonesa-cada-dia-liviana-pouch-475-gr",
    "-yerba-mate-playadito-con-palo-paquete-1-kg",
    "-yerba-mate-nobleza-gaucha-suave-paquete-500-gr",
    "-te-green-hills-caja-50-saquitos",
    "-te--la-virginia---molienda-controlada-caja-50-saquitos",
    "-gaseosa-coca-cola----botella-175-l-",
    "-gaseosa-coto----botella-225-l-",
    "-amargo-terma-light-limon-botella-175-l",
    "-amargo-tacconi-light-blanco-botella-15-l",
    "-panales--pampers-premium-care---xxg-60-unidades",
    "-panales-estrella-baby-caricias-de-algodon-g-44-unidades",
    "-jabon-tocador-90-gr-x-6-uni-dove-pak-540-grm",
    "-jabon-tocador-campos-verdes-energia-del-sol-paq-360-grm",
    "-jabon-tocador-plusbelle-cremoso-paq-3-uni-375-grm",
    "-jabon-sensible-fresh-rexona-paq-375-grm",
    "-postre-mixto-coto-cja-900-grm",
    "-postre-tabletas-crem-freddo-cja-300-grm",
    "-alfajor-terrabusi-chocolate-70-gr-x-1-uni",
    "-turron-mani-arcor-paq-25-grm",
    "-filete-de-merluza-despinado-fresco-x-kg",
    "-filete-de-gatuzo-fresco-x-kg",
    "-filete-de-merluza-despinado-congelado-x-kg",
    "-calamar-entero-congelado-x-kg",
    "-tentaculo-de-calamar-congelado-x-kg",
    "-tubo-de-calamar-congelado-x-kg",
    "-pulpo-espanol-congelado-x-kg",
    "-pejerrey-entero-semi-despinado-mariposa-congelado-x-kg",
    "-mejillon-pelado-cocido-chileno-congelado-x-kg",
    "-sabalo-despinado-congelado-x-kg",
    "-langostino-entero-crudo-congelado-x-kg",
    "-langostino-pelado-crudo-congelado-(tamanos-varios)-x-kg",
    "-cornalito-congelado-x-kg",
    "-varitas-de-surimi-kanikama-sabor-natural-250-gr",
    "-medallon-de-merluza-rebozado-natural-prefrito-congelado-x-kg",
    "-manteca-veronica-200-gr",
    "-manteca-coto-200-gr",
    "-asado-x-kg",
    "-vacio-x-kg",
    "-matambre-x-kg",
    "-cuadrada-x-kg",
    "-bola-de-lomo-x-kg",
    "-tapa-de-asado-x-kg",
    "-carnaza-x-kg",
    "-falda-x-kg",
    "-roast-beef-x-kg",
    "-espinazo-x-kg",
    "-picada-comun-x-kg",
    "-picada-especial-x-kg",
    "-carre-de-cerdo-x-kg",
    "-nalga----x-kg",
    "-bife-de-chorizo-x-kg",
    "-bondiola-de-cerdo-x-kg",
    "-lomo-x-kg",
    "-entrana-x-kg",
    "-colita-de-cuadril-x-kg",
    "-matambre-de-cerdo-x-kg",
    "-higado-x-kg",
    "-paleta-x-kg",
    "-peceto-x-kg",
    "-mignon-x-kg",
    "-pan-lacteado-blanco-360-grm",
    "-pan-mesa-lacteado-lactal-bsa-335-grm",
    "-pera-williams-seleccion-x-kg",
    "-osobuco-de-garron-x-kg",
    "-leche-entera-coto-sachet-1-l",
    "-polera-hombre-m-l-interlock-t38---",
    "-buzo-hombre-c--punos-canel-tl---",
    "-remera-dama-esc-v-crudo-tl---",
    "-pollera-dama-lanilla-negra-tl---",
    "-sweater-dama-lanilla-durazn-tl---",
    "-buzo-dama-c--punos-azul-tl---",
    "-enterito-beba-liso-rosa-12m---",
    "-remera-beba-est-conejo-rosa-t12m---",
    "-remera-nina-mc-bca-glitter-est-mesa-t1---",
    "-pantalon-bebe-frisa-azul-t12---",
    "-calzas-nina-melange-talle-1",
    "-short-nino-a-melange-rustico-t12---",
    "-guardapolvo-nino-a-t6---",
    "-boxer-hmbre-seamless-liso-tl-azul---",
    "-camiseta-hmbre-m-c-interlock-t38---",
    "-media-471-algodon-lisa-c-puno-t-u---",
    "-calzoncillo-h-largo-interloc-t38---",
    "-bombacha-703-dama-t-corto-lisa-tu---",
    "-corpino-c-aro-control-46133ba-t95---",
    "-camison-dama-ml-c-cartera-bco-tl---",
    "-media-soquete-dama-mj-6-dis-surt---",
    "-soquete-nina-t2-est-surt---",
    "-cartera-sabrina",
    "-toallita-vf-74-bebe-c-bordado-34x58cm---",
    "-bufanda-caba-1-diseno---",
    "-paraguas-corto-manual-liso---",
    "-gorro-doble-adulto---",
    "-guante-magico-adulto---",
    "-zapatillas-casual-caballero-40-top-design-",
    "-ojota-caba-navy-blaco-45-46---",
    "-zapatillas-deportiva-caballero-39-gummi-",
    "-zapato-dama-negro-charol-talle-35---",
    "-zueco-dama-ana-negro-35---",
    "-bota-dama-negro-2275-talle-35---",
    "-ojota-dama-aqua-39-40---",
    "-zapatillas-deportiva-dama-35-gummi--",
    "-guillermina-colegial-28-negro---",
    "-sandalia-nin@-beige-talle-21",
    "-zapatillas-deportiva-kids-27-gummi-",
    "-asado-del-medio-estancias-coto-x-kg",
    "-vacio-del-centro-estancias-coto-x-kg",
    "-roast-beef-estancias-coto-x-kg",
    "-bife-de-chorizo-coto-xkg",
    "-facturas-surtidas",
    "-arroz-doble-ala-blanco-paq-1-kgm",
    "-arroz-largo-fino-gallo-integral-con-fibra-caja-1-kg",
    "-harina-ultra-refinada-canuelas-paq-1-kgm",
    "-polenta-prestopronta-paquete-500-gr",
    "-semola-lucchetti-vitina-caja-500-gr",
    "-pan-rallado-preferido-bsa-1-kgm",
    "-espagueti-coto-paquete-500-gr",
    "-espagueti-lucchetti-----paquete-500-gr",
    "-tirabuzon-coto-paquete-500-gr",
    "-tirabuzon-lucchetti-----paquete-500-gr",
    "-mostachol-coto-paquete-500-gr",
    "-mostachol-lucchetti-----paquete-500-gr",
    "-prepizza-grande-tomate-uni",
    "-ravioles-pollo-via-vespucc-paq-500-grm",
    "-ravioles-pollo-y-espina-villa-dagri-bli-500-grm",
    "-tapempanada-criolla-noly-paq-330-grm",
    "-tapempanada-criolla-punto&pasta-bsa-300-grm",
    "-tapempanada-hojaldre-villa-dagri-fwp-300-grm",
    "-tapa-p-pascualina-hojaldre-noly-paq-380-grm",
    "-tapa-p-pascualina-criolla-punto&pasta-bsa-400-grm",
    "-chatitas--don-satur-bsa-140-grm",
    "-tostadas-de-mesa-riera-par-200-grm",
    "-leche-entera-clasica-la-serenisima-larga-vida-1l",
    "-leche-parcialmente-descremada-liviana--la-serenisima-larga-vida-1l",
    "-leche-entlv-uat-extra-defe-tres-ninas-ttb-1-ltr",
    "-leche-deslv-uat-extra-defe-tres-ninas-ttb-1-ltr",
    "-leche-descremada-coto-sachet-1-l",
    "-milanesa-de-peceto-x-kg",
    "-azucar-domino-comun-tipo-a-paquete-1-kg",
    "-dulce-leche-la-serenisima-clasico-fuente-de-calcio-400-gr",
    "-dulce-de-leche-san-ignacio-tradicion-pote-400-gr",
    "-cebolla-a-granel-x-kg",
    "-sardo-trozado-la-paulina-x-1-kgm",
    "-queso-sardo-sin-lactosafr-la-serenisi-x-1-kgm"]    

    lista2=[
    "A-00126515-00126515-200",
    "A-00182769-00182769-200",
    "A-00256311-00256311-200",
    "A-00042317-00042317-200",
    "A-00231388-00231388-200",
    "A-00290728-00290728-200",
    "A-00288503-00288503-200",
    "A-00014508-00014508-200",
    "A-00225560-00225560-200",
    "A-00001034-00001034-200",
    "A-00255263-00255263-200",
    "A-00035168-00035168-200",
    "A-00034891-00034891-200",
    "A-00034890-00034890-200",
    "A-00047931-00047931-200",
    "A-00047935-00047935-200",
    "A-00045182-00045182-200",
    "A-00014076-00014076-200",
    "A-00099437-00099437-200",
    "A-00251050-00251050-200",
    "A-00038207-00038207-200",
    "A-00044921-00044921-200",
    "A-00084795-00084795-200",
    "A-00000149-00000149-200",
    "A-00047779-00047779-200",
    "A-00000145-00000145-200",
    "A-00261282-00261282-200",
    "A-00253130-00253130-200",
    "A-00226340-00226340-200",
    "A-00285028-00285028-200",
    "A-00251874-00251874-200",
    "A-00166221-00166221-200",
    "A-00234311-00234311-200",
    "A-00022865-00022865-200",
    "A-00022878-00022878-200",
    "A-00070445-00070445-200",
    "A-00185448-00185448-200",
    "A-00014111-00014111-200",
    "A-00011701-00011701-200",
    "A-00231080-00231080-200",
    "A-00167111-00167111-200",
    "A-00281954-00281954-200",
    "A-00008685-00008685-200",
    "A-00006302-00006302-200",
    "A-00010405-00010405-200",
    "A-00003478-00003478-200",
    "A-00009924-00009924-200",
    "A-00082515-00082515-200",
    "A-00238215-00238215-200",
    "A-00238214-00238214-200",
    "A-00245789-00245789-200",
    "A-00007306-00007306-200",
    "A-00200296-00200296-200",
    "A-00253715-00253715-200",
    "A-00105735-00105735-200",
    "A-00234301-00234301-200",
    "A-00013274-00013274-200",
    "A-00005915-00005915-200",
    "A-00256322-00256322-200",
    "A-00266490-00266490-200",
    "A-00461853-00461853-20",
    "A-00254247-00254247-200",
    "A-00260195-00260195-200",
    "A-00295133-00295133-200",
    "A-00299213-00299213-200",
    "A-00245738-00245738-200",
    "A-00295200-00295200-200",
    "A-00296834-00296834-200",
    "A-00258583-00258583-200",
    "A-00299042-00299042-200",
    "A-00258398-00258398-200",
    "A-00256737-00256737-200",
    "A-00267252-00267252-200",
    "A-00263405-00263405-200",
    "A-00220762-00220762-200",
    "A-00268222-00268222-200",
    "A-00288632-00288632-200",
    "A-00268784-00268784-200",
    "A-00266604-00266604-200",
    "A-00265969-00265969-200",
    "A-00261279-00261279-200",
    "A-00224749-00224749-200",
    "A-00473206-00473206-200",
    "A-00251462-00251462-200",
    "A-00250060-00250060-200",
    "A-00285019-00285019-200",
    "A-00487416-00487416-200",
    "A-00267612-00267612-200",
    "A-00457971-00457971-200",
    "A-00192961-00192961-200",
    "A-00485655-00485655-200",
    "A-00469610-00469610-200",
    "A-00472160-00472160-200",
    "A-00484039-00484039-200",
    "A-00290385-00290385-200",
    "A-00170599-00170599-200",
    "A-00262248-00262248-200",
    "A-00089260-00089260-200",
    "A-00006690-00006690-200",
    "A-00081545-00081545-200",
    "A-00014690-00014690-200",
    "A-00006689-00006689-200",
    "A-00253482-00253482-200",
    "A-00089261-00089261-200",
    "A-00251621-00251621-200",
    "A-00262249-00262249-200",
    "A-00253125-00253125-200",
    "A-00081546-00081546-200",
    "A-00484697-00484697-200",
    "A-00484696-00484696-200",
    "A-00254037-00254037-200",
    "A-00177747-00177747-200",
    "A-00261367-00261367-200",
    "A-00491679-00491679-200",
    "A-00126332-00126332-200",
    "A-00258769-00258769-200",
    "A-00268840-00268840-200",
    "A-00293074-00293074-200",
    "A-00268345-00268345-200",
    "A-00481882-00481882-200",
    "A-00099080-00099080-200",
    "A-00474455-00474455-200",
    "A-00000529-00000529-200",
    "A-00000446-00000446-200",
    "A-00000544-00000544-200",
    "A-00017577-00017577-200",
    "A-00061005-00061005-200",
    "A-00061007-00061007-200",
    "A-00000516-00000516-200",
    "A-00000693-00000693-200",
    "A-00063135-00063135-200",
    "A-00035069-00035069-200",
    "A-00000684-00000684-200",
    "A-00000686-00000686-200",
    "A-00000688-00000688-200",
    "A-00000671-00000671-200",
    "A-00040156-00040156-200",
    "A-00000649-00000649-200",
    "A-00000677-00000677-200",
    "A-00002263-00002263-200",
    "A-00002025-00002025-200",
    "A-00002544-00002544-200",
    "A-00494400-00494400-200",
    "A-00468899-00468899-200",
    "A-00206181-00206181-200",
    "A-00266497-00266497-200",
    "A-00170758-00170758-200",
    "A-00254210-00254210-200",
    "A-00268844-00268844-200",
    "A-00172423-00172423-200",
    "A-00292919-00292919-200",
    "A-00255351-00255351-200",
    "A-00258363-00258363-200",
    "A-00262054-00262054-200",
    "A-00053132-00053132-200",
    "A-00489181-00489181-200",
    "A-00012477-00012477-200",
    "A-00265523-00265523-200",
    "A-00119973-00119973-200",
    "A-00282092-00282092-200",
    "A-00255239-00255239-200",
    "A-00046597-00046597-200",
    "A-00255486-00255486-200",
    "A-00001170-00001170-200",
    "A-00258617-00258617-200",
    "A-00474726-00474726-200",
    "A-00081458-00081458-200",
    "A-00282837-00282837-200",
    "A-00066880-00066880-200",
    "A-00473968-00473968-200",
    "A-00460146-00460146-200",
    "A-00462666-00462666-200",
    "A-00286514-00286514-200",
    "A-00250612-00250612-200",
    "A-00297576-00297576-200",
    "A-00040573-00040573-200",
    "A-00482944-00482944-200",
    "A-00140200-00140200-200",
    "A-00112643-00112643-200",
    "A-00017834-00017834-200",
    "A-00017840-00017840-200",
    "A-00039688-00039688-200",
    "A-00017810-00017810-200",
    "A-00017813-00017813-200",
    "A-00017814-00017814-200",
    "A-00017878-00017878-200",
    "A-00017867-00017867-200",
    "A-00017859-00017859-200",
    "A-00088911-00088911-200",
    "A-00017939-00017939-200",
    "A-00092997-00092997-200",
    "A-00017833-00017833-200",
    "A-00196777-00196777-200",
    "A-00094544-00094544-200",
    "A-00011733-00011733-200",
    "A-00008898-00008898-200",
    "A-00041387-00041387-200",
    "A-00041390-00041390-200",
    "A-00041394-00041394-200",
    "A-00041401-00041401-200",
    "A-00042314-00042314-200",
    "A-00042300-00042300-200",
    "A-00041383-00041383-200",
    "A-00041392-00041392-200",
    "A-00041384-00041384-200",
    "A-00042304-00042304-200",
    "A-00041412-00041412-200",
    "A-00069607-00069607-200",
    "A-00017162-00017162-200",
    "A-00041396-00041396-200",
    "A-00041466-00041466-200",
    "A-00000943-00000943-200",
    "A-00042321-00042321-200",
    "A-00041389-00041389-200",
    "A-00042318-00042318-200",
    "A-00000335-00000335-200",
    "A-00000029-00000029-200",
    "A-00041395-00041395-200",
    "A-00042319-00042319-200",
    "A-00011464-00011464-200",
    "A-00297813-00297813-200",
    "A-00268418-00268418-200",
    "A-00000543-00000543-200",
    "A-00041463-00041463-200",
    "A-00010226-00010226-200",
    "A-00508236-00508236-200",
    "A-00508711-00508711-200",
    "A-00507190-00507190-200",
    "A-00506880-00506880-200",
    "A-00506886-00506886-200",
    "A-00508687-00508687-200",
    "A-00504627-00504627-200",
    "A-00505692-00505692-200",
    "A-00506200-00506200-200",
    "A-00505711-00505711-200",
    "A-00504955-00504955-200",
    "A-00501217-00501217-200",
    "A-00488578-00488578-200",
    "A-00509554-00509554-200",
    "A-00508224-00508224-200",
    "A-00488363-00488363-200",
    "A-00508243-00508243-200",
    "A-00480932-00480932-200",
    "A-00191367-00191367-200",
    "A-00509134-00509134-200",
    "A-00485316-00485316-200",
    "A-00491074-00491074-200",
    "A-00492636-00492636-200",
    "A-00458708-00458708-200",
    "A-00504232-00504232-200",
    "A-00490796-00490796-200",
    "A-00509807-00509807-200",
    "A-00509812-00509812-200",
    "A-00504421-00504421-200",
    "A-00496759-00496759-200",
    "A-00506121-00506121-200",
    "A-00504370-00504370-200",
    "A-00505180-00505180-200",
    "A-00504485-00504485-200",
    "A-00497562-00497562-200",
    "A-00496705-00496705-200",
    "A-00501540-00501540-200",
    "A-00498659-00498659-200",
    "A-00505236-00505236-200",
    "A-00047979-00047979-200",
    "A-00047980-00047980-200",
    "A-00047985-00047985-200",
    "A-00029804-00029804-200",
    "A-00043608-00043608-200",
    "A-00057025-00057025-200",
    "A-00264990-00264990-200",
    "A-00513992-00513992-200",
    "A-00001904-00001904-200",
    "A-00282822-00282822-200",
    "A-00257847-00257847-200",
    "A-00243782-00243782-200",
    "A-00265518-00265518-200",
    "A-00243780-00243780-200",
    "A-00265553-00265553-200",
    "A-00243781-00243781-200",
    "A-00265515-00265515-200",
    "A-00046008-00046008-200",
    "A-00508214-00508214-200",
    "A-00217958-00217958-200",
    "A-00499142-00499142-200",
    "A-00505529-00505529-200",
    "A-00475346-00475346-200",
    "A-00499145-00499145-200",
    "A-00505530-00505530-200",
    "A-00128725-00128725-200",
    "A-00230017-00230017-200",
    "A-00509752-00509752-200",
    "A-00509747-00509747-200",
    "A-00510056-00510056-200",
    "A-00510007-00510007-200",
    "A-00010491-00010491-200",
    "A-00041407-00041407-200",
    "A-00001914-00001914-200",
    "A-00510306-00510306-200",
    "A-00261769-00261769-200",
    "A-00000602-00000602-200",
    "A-00013174-00013174-200",
    "A-00013306-00013306-200"]


    newquery="https://www.cotodigital3.com.ar/sitios/cdigi/producto/"+querycoto+"/_/"+lista2[lista1.index(querycoto)] 
    try:
        b+=scrapcoto(newquery)
        return (b)
    except Exception as e:
        return ("no se pudo acceder")



if __name__ == "__main__":
    app.run(port=8000, debug=True)


def scrapvea(site):
    r = requests.get(site)
    b=""
    
    soup = BeautifulSoup(r.content, 'html.parser')
    b+=soup.find("span", {"class": "vtex-breadcrumb-1-x-term vtex-breadcrumb-1-x-term--breadcrumb-style ph2 c-on-base"}).text    
    b+=";"
    b+=soup.find("span", {"class": "vtex-product-price-1-x-currencyInteger vtex-product-price-1-x-currencyInteger--shelf-main-selling-price"}).text
    b+=","
    b+=soup.find("span", {"class": "vtex-product-price-1-x-currencyFraction vtex-product-price-1-x-currencyFraction--shelf-main-selling-price"}).text    

    return b


def scrapcoto(sitecoto):
    r = requests.get(sitecoto)
    b=""
    soup = BeautifulSoup(r.content, 'html.parser')
    b+=soup.find("h1", {"class": "product_page"}).text.replace(" ","").replace("\n","").replace("\r","").replace(";","").replace("\t","") + ";"     
    b+=soup.find("span", {"class": "atg_store_newPrice"}).text.replace("$","").replace(" ","").replace("\n","").replace("\r","").replace("\t","").replace("PRECIOCONTADO","").replace("PRECIOREGULAR","") 
    return b


@app.errorhandler(500)
def internal_error(error):
    return "500 error"

@app.errorhandler(404)
def not_found(error):
    return "404 error",404
